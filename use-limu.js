!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("limu")):"function"==typeof define&&define.amd?define(["exports","react","limu"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["use-limu"]={},e.React,e.limu)}(this,function(e,t,c){"use strict";var o,l=(o=t)&&"object"==typeof o&&"default"in o?o:{default:o};function r(e=null){const[t,o]=l.default.useState(()=>c.produce("function"==typeof e?e():e,()=>{}));return[t,l.default.useCallback(e=>{o("function"==typeof e?c.produce(t,e):c.produce(e,()=>{}))},[t])]}e.useLimu=r,e.useLimuArray=function(e=[],{idName:u=null}){const[t,n]=r(()=>Array.isArray(e)||"function"==typeof e?e:[]);return l.default.useEffect(()=>{Array.isArray(e)},[]),{state:t,setState:n,change:l.default.useCallback((o=null,c=null)=>{if(o||0===o)switch(typeof o){case"string":u&&n(e=>{var t=e.findIndex(e=>"[object Object]"===Object.prototype.toString.call(e)&&e[u]&&e[u]==o);!t&&0!==t||("[object Object]"===Object.prototype.toString.call(c)?0<=t&&(e[t]={...e[t],...c||{}}):0<=t&&(e[t]=c))});break;case"number":n(e=>{"[object Object]"===Object.prototype.toString.call(e[o])&&"[object Object]"===Object.prototype.toString.call(c)?e[o]={...e[o],...c}:e[o]=c})}},[])}},e.useLimuObject=function(e=null){const[t,n]=r(()=>"[object Object]"===Object.prototype.toString.call(e)||"function"==typeof e?e:{});return l.default.useEffect(()=>{"[object Object]"===!Object.prototype.toString.call(e)&&"function"!=typeof e&&console.error("useLimuObject initState not is Object or Function:object")},[]),{state:t,setState:n,change:l.default.useCallback((t,u)=>{if(t&&"string"==typeof t){let o=t.split("."),c=o.length;n(2<=c?e=>{let t=e[o[0]];for(let e=1;e<c-1;e++)t=t[o[e]];t[o[c-1]]=u}:e=>{e[t]=u})}},[])}},e.useLimuReducer=function(c,e=null){const[t,u]=r(e);return[t,l.default.useCallback((t,o)=>{u(e=>c(e,t,o))},[t])]},Object.defineProperty(e,"__esModule",{value:!0})});
